---
layout: ../../../../../layouts/Content.astro
title: "ABC332 D"
problem: https://atcoder.jp/contests/abc332/tasks/abc332_d
---
行操作と列操作の順序は入れ替えても結果は変わらないので, 最初に行の入れ替えを行い, 次に列の入れ替えを行うと仮定しても構わない.

次に行の入れ替えの結果, 新しいグリッドの $i$ 行目には元のグリッドの $a_i$ 行目が移ってくるとして, $\{ a_i \}$ を全パターン試す. 各パターンについて, 列についても同様に全パターンを試し, グリッドBと一致すれはその操作数を求めて, 最小の操作数を求める.

操作数は $\{ a_i \}$ をグラフの頂点と考え, ここから1操作で移動できる頂点と辺を結び, 最初の頂点である $\{ 1, 2, \dots \}$ からの距離を Dijkstra 法などで求めておく.

行および列の入れ替えのパターンは高々 $5! = 120$ 通りなので, これにグリッド一致の判定に必要な $25$ を掛けても $3.6 * 10^5$ にしかならないので, これで間に合う.
