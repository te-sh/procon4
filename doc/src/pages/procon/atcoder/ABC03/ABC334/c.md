---
layout: ../../../../../layouts/Content.astro
title: "ABC334 C"
problem: https://atcoder.jp/contests/abc334/tasks/abc334_c
---
奇妙さの総和は最大でも $N-1$ にすることができる.

$K$ が偶数ならば最初の靴下から2枚ずつ取っていくのが良い. 靴下 $i$ と靴下 $j$ を取ったとして, この区間を数直線上に載せていくことで, この区間を重ならせないようにすることができるので, 奇妙さの最小値は $N-1$ 以下に納められる.

また, 区間が重なる場合は取る靴下を適切に入れ替えることで区間がない部分を作ることができ, 奇妙さを下げられるので, やはり最初から取っていくのが最適である.

$K$ が奇数の場合はどの靴下をペアにしないかというのを全探索して, それ以外の隣り合う靴下を取っていけばいい. 高速に計算するために, 偶数番目と奇数番目の差および奇数番目と偶数番目の差をそれぞれ計算しておき, 累積和を取っておく.
